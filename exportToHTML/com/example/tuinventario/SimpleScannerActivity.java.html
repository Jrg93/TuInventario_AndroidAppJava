<html>
<head>
<title>SimpleScannerActivity.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #629755; font-style: italic;}
.s3 { color: #6a8759;}
.s4 { color: #808080;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
SimpleScannerActivity.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span><span class="s1">com.example.tuinventario</span><span class="s0">;</span>

<span class="s0">import </span><span class="s1">android.app.Activity</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">android.os.Bundle</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">android.util.Log</span><span class="s0">;</span>

<span class="s0">import </span><span class="s1">me.dm7.barcodescanner.zbar.Result</span><span class="s0">;</span>
<span class="s0">import </span><span class="s1">me.dm7.barcodescanner.zbar.ZBarScannerView</span><span class="s0">;</span>

<span class="s2">/**</span>
 <span class="s2">* Libreria de codigo abierto, contiene metodos para obtener datos</span>
 <span class="s2">* a partir del lector de codigo de barras</span>
 <span class="s2">*/</span>

<span class="s0">public class </span><span class="s1">SimpleScannerActivity </span><span class="s0">extends </span><span class="s1">Activity </span><span class="s0">implements </span><span class="s1">ZBarScannerView.ResultHandler {</span>
    <span class="s0">private static final </span><span class="s1">String TAG = </span><span class="s3">&quot;TEXTO&quot;</span><span class="s0">;</span>
    <span class="s0">private </span><span class="s1">ZBarScannerView mScannerView</span><span class="s0">;</span>

    <span class="s2">/**</span>
     <span class="s2">*Metodo donde se inicializa el objeto mScannerView y luego se asigna al contenido</span>
     <span class="s2">* principal del activity</span>
     <span class="s2">*/</span>
    <span class="s1">@Override</span>
    <span class="s0">public void </span><span class="s1">onCreate(Bundle state) {</span>
        <span class="s0">super</span><span class="s1">.onCreate(state)</span><span class="s0">;</span>
        <span class="s1">mScannerView = </span><span class="s0">new </span><span class="s1">ZBarScannerView(</span><span class="s0">this</span><span class="s1">)</span><span class="s0">;    </span><span class="s4">// Programmatically initialize the scanner view</span>
        <span class="s1">setContentView(mScannerView)</span><span class="s0">;                </span><span class="s4">// Set the scanner view as the content view</span>
    <span class="s1">}</span>

    <span class="s2">/**</span>
     <span class="s2">* Metodo que permite que la camara se desactive cuando la</span>
     <span class="s2">* aplicacion pase a segundo plano</span>
     <span class="s2">*/</span>
    <span class="s1">@Override</span>
    <span class="s0">public void </span><span class="s1">onResume() {</span>
        <span class="s0">super</span><span class="s1">.onResume()</span><span class="s0">;</span>
        <span class="s1">mScannerView.setResultHandler(</span><span class="s0">this</span><span class="s1">)</span><span class="s0">; </span><span class="s4">// Register ourselves as a handler for scan results.</span>
        <span class="s1">mScannerView.startCamera()</span><span class="s0">;          </span><span class="s4">// Start camera on resume</span>
    <span class="s1">}</span>

    <span class="s2">/**</span>
     <span class="s2">* Metodo que permite que la camara se desactive cuando la</span>
     <span class="s2">* aplicacion pase a segundo plano</span>
     <span class="s2">*/</span>
    <span class="s1">@Override</span>
    <span class="s0">public void </span><span class="s1">onPause() {</span>
        <span class="s0">super</span><span class="s1">.onPause()</span><span class="s0">;</span>
        <span class="s1">mScannerView.stopCamera()</span><span class="s0">;           </span><span class="s4">// Stop camera on pause</span>
    <span class="s1">}</span>

    <span class="s2">/**</span>
     <span class="s2">* Metodo que es llamado cuando se recibe un codigo</span>
     <span class="s2">* atraves del objeto result el cual contiene toda la informacion.</span>
     <span class="s2">*/</span>
    <span class="s1">@Override</span>
    <span class="s0">public void </span><span class="s1">handleResult(Result rawResult) {</span>
        <span class="s4">// Do something with the result here</span>
        <span class="s1">Log.v(TAG</span><span class="s0">, </span><span class="s1">rawResult.getContents())</span><span class="s0">; </span><span class="s4">// Prints scan results</span>
        <span class="s1">Log.v(TAG</span><span class="s0">, </span><span class="s1">rawResult.getBarcodeFormat().getName())</span><span class="s0">; </span><span class="s4">// Prints the scan format (qrcode, pdf417 etc.)</span>

        <span class="s4">// If you would like to resume scanning, call this method below:</span>
        <span class="s1">mScannerView.resumeCameraPreview(</span><span class="s0">this</span><span class="s1">)</span><span class="s0">;</span>
    <span class="s1">}</span>

<span class="s1">}</span></pre>
</body>
</html>